# Sentry 통합 테스트 체크리스트

## 🚀 테스트 시작하기

### 1. 개발 서버 실행
```bash
npm run dev
```

### 2. 테스트 페이지 접속
- http://localhost:3000/test-sentry
- http://localhost:3000/sentry-example-page (Sentry 제공)

## ✅ 테스트 항목

### 기본 기능 테스트

#### 1. [ ] 동기 에러 테스트
- 테스트 페이지에서 "동기 에러 발생" 버튼 클릭
- Global Error Boundary가 표시되는지 확인
- Sentry 대시보드에서 에러 확인

#### 2. [ ] 비동기 에러 테스트
- "비동기 에러 리포트" 버튼 클릭
- 에러 알림 확인
- Sentry에서 다음 확인:
  - action: "testAsyncError"
  - description: "데이터 조회 중 오류 발생"
  - endpoint 메타데이터

#### 3. [ ] 컨텍스트 포함 에러
- "컨텍스트 에러 전송" 버튼 클릭
- Sentry에서 다음 확인:
  - 브라우저 정보
  - 화면 크기
  - 타임스탬프

#### 4. [ ] Promise Rejection
- "Unhandled Rejection 발생" 버튼 클릭
- 1초 후 콘솔에서 에러 확인
- Sentry에 자동 전송되었는지 확인

#### 5. [ ] 성능 추적
- "성능 추적 테스트" 버튼 클릭
- 2초 대기
- Sentry Performance 탭에서 트랜잭션 확인

#### 6. [ ] 정보 메시지
- "정보 메시지 전송" 버튼 클릭
- Sentry에서 level: "info" 메시지 확인

### 사용자 세션 테스트

#### 7. [ ] 로그인 전 테스트
- 로그아웃 상태에서 에러 발생
- Sentry에서 사용자 정보가 없는지 확인

#### 8. [ ] 로그인 후 테스트
- 소셜 로그인 (네이버/카카오)
- 에러 발생시키기
- Sentry에서 다음 확인:
  - User ID
  - Username
  - Email
  - Role (MEMBER/TRAINER/MANAGER)
  - Center ID (트레이너/매니저)

#### 9. [ ] 로그아웃 테스트
- 로그아웃 수행
- 에러 발생시키기
- Sentry에서 사용자 정보가 제거되었는지 확인

### 실제 시나리오 테스트

#### 10. [ ] API 에러 테스트
- 존재하지 않는 PT Record 조회
- Sentry에서 확인:
  - description: "트레이너가 PT 기록 목록을 조회하는 중 오류 발생"
  - API 경로
  - 사용자 정보

#### 11. [ ] 머신 이미지 업로드 에러
- 매니저로 로그인
- 머신 페이지에서 잘못된 이미지 업로드 시도
- Sentry에서 확인:
  - description: "매니저가 머신 이미지를 업로드하는 중 오류 발생"
  - 파일 정보

#### 12. [ ] PT 일정 변경 에러
- 회원으로 로그인
- PT 일정 변경 시도
- Sentry에서 확인:
  - description: "회원이 PT 일정 변경을 요청하는 중 오류 발생"

## 📊 Sentry 대시보드 확인

### Issues 탭
- [ ] 에러가 올바르게 그룹화되는가?
- [ ] 에러 제목이 명확한가?
- [ ] 스택 트레이스가 표시되는가?

### Performance 탭
- [ ] 트랜잭션이 기록되는가?
- [ ] 성능 메트릭이 표시되는가?

### User Feedback
- [ ] 사용자별 에러를 필터링할 수 있는가?
- [ ] 세션 정보가 표시되는가?

## 🔍 추가 확인사항

### 환경별 설정
- [ ] 개발 환경에서 debug: true 작동
- [ ] 콘솔에 에러 로그 출력
- [ ] tracesSampleRate 설정 확인

### 보안
- [ ] 쿠키 정보 필터링 확인
- [ ] Authorization 헤더 제거 확인
- [ ] 민감한 폼 데이터 마스킹 확인

### 성능
- [ ] 에러 리포팅이 앱 성능에 영향을 주지 않는가?
- [ ] 네트워크 에러 시 앱이 정상 작동하는가?

## 🚨 트러블슈팅

### Sentry에 에러가 표시되지 않을 때
1. `.env` 파일의 DSN 확인
2. 네트워크 탭에서 Sentry 요청 확인
3. 브라우저 콘솔 에러 확인
4. `/monitoring` 경로가 차단되지 않았는지 확인

### 소스맵이 표시되지 않을 때
1. Vercel 환경변수 설정 확인
2. `SENTRY_AUTH_TOKEN` 유효성 확인
3. 빌드 로그에서 소스맵 업로드 확인

## 📝 테스트 완료 후

1. 테스트 페이지 제거 고려
2. Sentry 알림 설정
3. 팀원들과 대시보드 공유
4. 에러 분류 및 우선순위 설정

---

테스트 일시: _______________
테스터: _______________
결과: [ ] 통과 / [ ] 실패